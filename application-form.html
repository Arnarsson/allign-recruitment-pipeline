<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALLIGN - Full-Stack Developer Application</title>
    <meta name="description" content="Join ALLIGN as a Full-Stack Developer and help transform construction tech. Apply now!">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #f8f9fa;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 20px;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 42px;
            margin-bottom: 20px;
            font-weight: 700;
            animation: fadeInUp 0.6s ease;
        }
        
        .hero p {
            font-size: 20px;
            opacity: 0.95;
            max-width: 600px;
            margin: 0 auto 30px;
            animation: fadeInUp 0.8s ease;
        }
        
        .hero-badges {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            animation: fadeInUp 1s ease;
        }
        
        .badge {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            backdrop-filter: blur(10px);
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .container {
            max-width: 800px;
            margin: -40px auto 40px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }
        
        .progress-container {
            padding: 30px 40px 20px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .progress-bar {
            display: flex;
            justify-content: space-between;
            position: relative;
        }
        
        .progress-bar::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 40px;
            right: 40px;
            height: 2px;
            background: #e9ecef;
            z-index: 0;
        }
        
        .progress-line {
            position: absolute;
            top: 20px;
            left: 40px;
            height: 2px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            z-index: 1;
            transition: width 0.5s ease;
            width: 0%;
        }
        
        .progress-step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 3px solid #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
        }
        
        .progress-step.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-color: #667eea;
            color: white;
            transform: scale(1.1);
        }
        
        .progress-step.completed {
            background: #51cf66;
            border-color: #51cf66;
            color: white;
        }
        
        .progress-step.completed::after {
            content: '‚úì';
            position: absolute;
            font-size: 18px;
        }
        
        .progress-step span {
            display: none;
        }
        
        .progress-step.completed span {
            display: none;
        }
        
        .form-content {
            padding: 40px;
        }
        
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
            animation: slideIn 0.4s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .section h2 {
            color: #2d3436;
            margin-bottom: 30px;
            font-size: 28px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #2d3436;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }
        
        .question-card {
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .question-card:hover {
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        
        .question-card h3 {
            color: #2d3436;
            margin-bottom: 10px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .question-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
        }
        
        .question-card p {
            color: #636e72;
            margin-bottom: 15px;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .hint {
            background: #e3f2fd;
            border-left: 3px solid #2196F3;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 13px;
            color: #1976D2;
            margin-top: 10px;
        }
        
        .char-counter {
            text-align: right;
            font-size: 12px;
            color: #636e72;
            margin-top: 5px;
        }
        
        .char-counter.warning {
            color: #ff9800;
        }
        
        .char-counter.error {
            color: #ff6b6b;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #e9ecef;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-secondary {
            background: #f8f9fa;
            color: #636e72;
        }
        
        .btn-secondary:hover {
            background: #e9ecef;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #51cf66, #3eb04f);
            color: white;
            font-size: 18px;
            padding: 15px 40px;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(81, 207, 102, 0.3);
        }
        
        .required {
            color: #ff6b6b;
        }
        
        .error-message {
            background: #fee;
            border: 1px solid #fcc;
            color: #c00;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }
        
        .error-message.show {
            display: block;
            animation: shake 0.5s ease;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .summary-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
        }
        
        .summary-section h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .summary-content {
            background: white;
            padding: 15px;
            border-radius: 10px;
            color: #2d3436;
            line-height: 1.6;
        }
        
        .consent-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
        }
        
        .consent-box label {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
        }
        
        .consent-box input[type="checkbox"] {
            margin-right: 10px;
            margin-top: 4px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .success-container {
            text-align: center;
            padding: 60px 40px;
        }
        
        .success-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #51cf66, #3eb04f);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: white;
            animation: scaleIn 0.5s ease;
        }
        
        @keyframes scaleIn {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        .success-container h2 {
            color: #2d3436;
            margin-bottom: 15px;
        }
        
        .success-container p {
            color: #636e72;
            font-size: 18px;
            line-height: 1.6;
        }
        
        .footer {
            text-align: center;
            padding: 30px;
            color: #636e72;
            font-size: 14px;
        }
        
        .company-info {
            background: #f8f9fa;
            padding: 30px;
            margin: 40px 0;
            border-radius: 15px;
            text-align: center;
        }
        
        .company-info h3 {
            color: #2d3436;
            margin-bottom: 15px;
        }
        
        .company-info p {
            color: #636e72;
            margin-bottom: 10px;
        }
        
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .tech-badge {
            background: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            border: 1px solid #e9ecef;
        }
        
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 32px;
            }
            
            .hero p {
                font-size: 18px;
            }
            
            .container {
                margin: -30px 20px 40px;
            }
            
            .form-content {
                padding: 30px 20px;
            }
            
            .progress-step {
                width: 32px;
                height: 32px;
                font-size: 12px;
            }
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .test-controls {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 1000;
            display: none;
        }
        
        .test-controls.visible {
            display: block;
        }
        
        .btn-test {
            background: #ff6b6b;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            font-size: 12px;
            cursor: pointer;
            margin-left: 5px;
        }
        
        .btn-test:hover {
            background: #ff5252;
        }
    </style>
</head>
<body>
    <!-- Hidden test controls (visible with Ctrl+Shift+T) -->
    <div class="test-controls" id="testControls">
        <button class="btn-test" onclick="toggleTestControls()">Hide</button>
        <button class="btn-test" onclick="fillTestData()">Fill Form</button>
        <button class="btn-test" onclick="clearForm()">Clear</button>
    </div>
    
    <div class="hero">
        <h1>Join ALLIGN as Full-Stack Developer</h1>
        <p>Help us transform the construction industry with modern, AI-powered tools that actually work in the field</p>
        <div class="hero-badges">
            <span class="badge">üöÄ Early Stage Startup</span>
            <span class="badge">üí∞ Equity Options</span>
            <span class="badge">üåç 100% Remote</span>
            <span class="badge">ü§ñ AI-First Development</span>
        </div>
    </div>
    
    <div class="container">
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-line" id="progressLine"></div>
                <div class="progress-step active" id="step1"><span>1</span></div>
                <div class="progress-step" id="step2"><span>2</span></div>
                <div class="progress-step" id="step3"><span>3</span></div>
                <div class="progress-step" id="step4"><span>4</span></div>
                <div class="progress-step" id="step5"><span>5</span></div>
            </div>
        </div>
        
        <div class="form-content">
            <div class="error-message" id="errorMessage"></div>
            
            <!-- Section 1: Basic Information -->
            <div class="section active" id="section1">
                <h2>Let's start with the basics</h2>
                
                <div class="form-group">
                    <label>Full Name <span class="required">*</span></label>
                    <input type="text" id="name" placeholder="John Doe" required>
                </div>
                
                <div class="form-group">
                    <label>Email Address <span class="required">*</span></label>
                    <input type="email" id="email" placeholder="john@example.com" required>
                </div>
                
                <div class="form-group">
                    <label>Phone Number</label>
                    <input type="tel" id="phone" placeholder="+45 12 34 56 78">
                </div>
                
                <div class="form-group">
                    <label>Current Location <span class="required">*</span></label>
                    <input type="text" id="location" placeholder="City, Country (e.g., Copenhagen, Denmark)" required>
                </div>
                
                <div class="form-group">
                    <label>LinkedIn Profile</label>
                    <input type="url" id="linkedin" placeholder="https://linkedin.com/in/yourprofile">
                </div>
                
                <div class="form-group">
                    <label>GitHub Profile</label>
                    <input type="url" id="github" placeholder="https://github.com/yourusername">
                </div>
                
                <div class="navigation">
                    <div></div>
                    <button class="btn btn-primary" onclick="nextSection()">Next Step ‚Üí</button>
                </div>
            </div>
            
            <!-- Section 2: Technical Experience -->
            <div class="section" id="section2">
                <h2>Your Technical Experience</h2>
                
                <div class="question-card">
                    <h3><span class="question-number">1</span> React/Next.js Experience <span class="required">*</span></h3>
                    <p>Describe a specific feature or project you've built using React or Next.js. Include technical details about your approach.</p>
                    <textarea id="q1" placeholder="Example: I built a real-time dashboard for tracking delivery vehicles using Next.js, React hooks, and WebSocket connections. The dashboard handled 1000+ concurrent connections..." required></textarea>
                    <div class="char-counter" data-max="800">0 / 800</div>
                    <div class="hint">üí° Be specific: mention hooks used, state management, performance optimizations, etc.</div>
                </div>
                
                <div class="question-card">
                    <h3><span class="question-number">2</span> AI Development Tools <span class="required">*</span></h3>
                    <p>Have you used Claude, ChatGPT, Cursor, or GitHub Copilot for coding? How do you integrate AI into your development workflow?</p>
                    <textarea id="q2" placeholder="Example: I use GitHub Copilot daily for boilerplate code and Claude for complex problem-solving. Recently used AI to refactor a 5000-line legacy codebase..." required></textarea>
                    <div class="char-counter" data-max="600">0 / 600</div>
                    <div class="hint">üí° If new to AI tools, explain how quickly you learn new technologies and give examples</div>
                </div>
                
                <div class="question-card">
                    <h3><span class="question-number">3</span> Portfolio/GitHub <span class="required">*</span></h3>
                    <p>Share links to your best work - production apps, GitHub repos, or technical blog posts.</p>
                    <textarea id="q3" placeholder="1. https://github.com/myusername/project - React app with 500+ stars
2. https://myapp.com - Production SaaS with 1000+ users
3. https://blog.com/my-post - Technical article about PWA optimization" required></textarea>
                    <div class="char-counter" data-max="500">0 / 500</div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">‚Üê Previous</button>
                    <button class="btn btn-primary" onclick="nextSection()">Next Step ‚Üí</button>
                </div>
            </div>
            
            <!-- Section 3: Availability & Commitment -->
            <div class="section" id="section3">
                <h2>Availability & Work Style</h2>
                
                <div class="question-card">
                    <h3><span class="question-number">4</span> Start Date <span class="required">*</span></h3>
                    <p>When would you be available to start?</p>
                    <select id="q4" required>
                        <option value="">Select your availability</option>
                        <option value="immediately">Immediately</option>
                        <option value="2-weeks">2 weeks notice</option>
                        <option value="1-month">1 month notice</option>
                        <option value="2-months">2+ months</option>
                    </select>
                    <div class="hint">üí° We understand different notice periods - honesty is appreciated</div>
                </div>
                
                <div class="question-card">
                    <h3><span class="question-number">5</span> Work Hours & Time Zone <span class="required">*</span></h3>
                    <p>What's your preferred working schedule and time zone overlap with European hours?</p>
                    <textarea id="q5" placeholder="Example: I'm in EST (UTC-5) and typically work 9 AM - 6 PM. This gives me 3-4 hours overlap with Copenhagen time for meetings and collaboration..." required></textarea>
                    <div class="char-counter" data-max="400">0 / 400</div>
                    <div class="hint">üí° We need some overlap with CET (Copenhagen) for team collaboration</div>
                </div>
                
                <div class="question-card">
                    <h3><span class="question-number">6</span> Remote Work Experience <span class="required">*</span></h3>
                    <p>Describe your experience with remote work, especially in early-stage teams.</p>
                    <textarea id="q6" placeholder="Example: I've worked remotely for 3+ years, including 18 months with a 5-person startup. I use Slack daily, am comfortable with async communication, and have a dedicated home office setup..." required></textarea>
                    <div class="char-counter" data-max="500">0 / 500</div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">‚Üê Previous</button>
                    <button class="btn btn-primary" onclick="nextSection()">Next Step ‚Üí</button>
                </div>
            </div>
            
            <!-- Section 4: Culture & Motivation -->
            <div class="section" id="section4">
                <h2>Culture & Motivation</h2>
                
                <div class="question-card">
                    <h3><span class="question-number">7</span> Why ALLIGN? <span class="required">*</span></h3>
                    <p>What interests you about ALLIGN and the construction tech space?</p>
                    <textarea id="q7" placeholder="Example: I'm excited about solving real-world problems for construction workers. The industry is ripe for disruption and I love the challenge of building tools that work in harsh field conditions..." required></textarea>
                    <div class="char-counter" data-max="600">0 / 600</div>
                    <div class="hint">üí° Show us you understand our mission and the challenges we're solving</div>
                </div>
                
                <div class="question-card">
                    <h3><span class="question-number">8</span> Startup Experience <span class="required">*</span></h3>
                    <p>Tell us about your experience in early-stage companies or fast-paced environments.</p>
                    <textarea id="q8" placeholder="Example: At my previous startup, I was employee #3 and wore many hats - from frontend to DevOps. I thrive in environments where I can ship fast and iterate based on user feedback..." required></textarea>
                    <div class="char-counter" data-max="600">0 / 600</div>
                    <div class="hint">üí° If no startup experience, describe how you handle ambiguity and rapid changes</div>
                </div>
                
                <div class="question-card">
                    <h3><span class="question-number">9</span> Technical Challenge</h3>
                    <p>Describe a complex technical problem you solved recently. What was your approach?</p>
                    <textarea id="q9" placeholder="Example: We had a memory leak in our React app affecting mobile users. I used Chrome DevTools to profile memory usage, identified unnecessary re-renders in a list component, implemented virtualization, and reduced memory usage by 70%..."></textarea>
                    <div class="char-counter" data-max="700">0 / 700</div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">‚Üê Previous</button>
                    <button class="btn btn-primary" onclick="nextSection()">Next Step ‚Üí</button>
                </div>
            </div>
            
            <!-- Section 5: Final Details -->
            <div class="section" id="section5">
                <h2>Final Details</h2>
                
                <div class="question-card">
                    <h3><span class="question-number">10</span> Salary Expectations</h3>
                    <p>What's your expected salary range? (Optional - we're open to discussing based on experience)</p>
                    <input type="text" id="q10" placeholder="e.g., ‚Ç¨50,000 - ‚Ç¨70,000 + equity">
                    <div class="hint">üí° Remember we're an early-stage startup with competitive equity options</div>
                </div>
                
                <div class="question-card">
                    <h3><span class="question-number">11</span> Questions for Us?</h3>
                    <p>What would you like to know about ALLIGN, the role, or our team?</p>
                    <textarea id="q11" placeholder="Example: How does the team currently handle code reviews? What's the product roadmap for the next 6 months? What are the biggest technical challenges you're facing?"></textarea>
                    <div class="char-counter" data-max="500">0 / 500</div>
                </div>
                
                <div class="question-card">
                    <h3><span class="question-number">12</span> Anything Else?</h3>
                    <p>Is there anything else you'd like us to know about you or your application?</p>
                    <textarea id="q12" placeholder="Example: I'm also passionate about UI/UX design and have experience creating user-friendly interfaces for technical products..."></textarea>
                    <div class="char-counter" data-max="400">0 / 400</div>
                </div>
                
                <!-- Summary Section -->
                <div class="summary-section">
                    <h3>Application Summary</h3>
                    <div class="summary-content" id="summaryContent">
                        Your responses will be summarized here before submission.
                    </div>
                </div>
                
                <!-- Consent -->
                <div class="consent-box">
                    <label>
                        <input type="checkbox" id="consent" required>
                        <span>I consent to ALLIGN processing my personal data for recruitment purposes. I understand that my information will be used to evaluate my application and may be stored for future opportunities. <span class="required">*</span></span>
                    </label>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousSection()">‚Üê Previous</button>
                    <button class="btn btn-success" onclick="submitApplication()">
                        <span id="submitText">Submit Application</span>
                        <span id="submitLoading" style="display: none;" class="loading"></span>
                    </button>
                </div>
            </div>
            
            <!-- Success Section -->
            <div class="section" id="successSection">
                <div class="success-container">
                    <div class="success-icon">‚úì</div>
                    <h2>Application Submitted Successfully!</h2>
                    <p>Thank you for your interest in joining ALLIGN. We've received your application and will review it within 24-48 hours.</p>
                    <p>You should receive a confirmation email shortly at <strong id="confirmEmail"></strong>.</p>
                    <p>Our team will reach out with next steps soon!</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <div class="footer">
        <div class="company-info">
            <h3>About ALLIGN</h3>
            <p>We're building the future of construction management software, starting with time tracking that actually works in the field.</p>
        </div>
    </div>
    
    <script>
        let currentSection = 1;
        const totalSections = 5;
        const formData = {};
        
        // Initialize form
        document.addEventListener('DOMContentLoaded', function() {
            updateCharCounters();
            updateProgressBar();
            
            // Add event listeners for character counters
            document.querySelectorAll('textarea, input[type="text"]').forEach(element => {
                element.addEventListener('input', function() {
                    updateCharCounter(this);
                    saveFormData();
                });
            });
            
            // Add event listeners for other inputs
            document.querySelectorAll('select, input[type="email"], input[type="tel"], input[type="url"]').forEach(element => {
                element.addEventListener('change', saveFormData);
            });
        });
        
        function updateCharCounters() {
            document.querySelectorAll('.char-counter').forEach(counter => {
                const textarea = counter.previousElementSibling;
                if (textarea && textarea.tagName === 'TEXTAREA') {
                    updateCharCounter(textarea);
                }
            });
        }
        
        function updateCharCounter(element) {
            const counter = element.nextElementSibling;
            if (counter && counter.classList.contains('char-counter')) {
                const maxLength = parseInt(counter.getAttribute('data-max'));
                const currentLength = element.value.length;
                
                counter.textContent = `${currentLength} / ${maxLength}`;
                
                counter.classList.remove('warning', 'error');
                if (currentLength > maxLength * 0.9) {
                    counter.classList.add('warning');
                }
                if (currentLength > maxLength) {
                    counter.classList.add('error');
                }
            }
        }
        
        function saveFormData() {
            const inputs = document.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                if (input.id) {
                    formData[input.id] = input.value;
                }
            });
        }
        
        function validateCurrentSection() {
            const currentSectionElement = document.getElementById(`section${currentSection}`);
            const requiredFields = currentSectionElement.querySelectorAll('[required]');
            
            for (let field of requiredFields) {
                if (!field.value.trim()) {
                    showError(`Please fill in all required fields.`);
                    field.focus();
                    return false;
                }
                
                if (field.type === 'email' && !isValidEmail(field.value)) {
                    showError('Please enter a valid email address.');
                    field.focus();
                    return false;
                }
            }
            
            // Check character limits
            const textareas = currentSectionElement.querySelectorAll('textarea');
            for (let textarea of textareas) {
                const counter = textarea.nextElementSibling;
                if (counter && counter.classList.contains('char-counter')) {
                    const maxLength = parseInt(counter.getAttribute('data-max'));
                    if (textarea.value.length > maxLength) {
                        showError(`Please keep your response under ${maxLength} characters.`);
                        textarea.focus();
                        return false;
                    }
                }
            }
            
            hideError();
            return true;
        }
        
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
        
        function showError(message) {
            const errorElement = document.getElementById('errorMessage');
            errorElement.textContent = message;
            errorElement.classList.add('show');
            
            // Scroll to top to show error
            document.querySelector('.form-content').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }
        
        function hideError() {
            const errorElement = document.getElementById('errorMessage');
            errorElement.classList.remove('show');
        }
        
        function nextSection() {
            if (!validateCurrentSection()) {
                return;
            }
            
            if (currentSection < totalSections) {
                // Mark current step as completed
                document.getElementById(`step${currentSection}`).classList.remove('active');
                document.getElementById(`step${currentSection}`).classList.add('completed');
                
                // Hide current section
                document.getElementById(`section${currentSection}`).classList.remove('active');
                
                // Move to next section
                currentSection++;
                
                // Show next section
                document.getElementById(`section${currentSection}`).classList.add('active');
                
                // Update active step
                document.getElementById(`step${currentSection}`).classList.add('active');
                
                updateProgressBar();
                
                // Update summary if we're on the last section
                if (currentSection === totalSections) {
                    updateSummary();
                }
                
                // Scroll to top
                document.querySelector('.form-content').scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            }
        }
        
        function previousSection() {
            if (currentSection > 1) {
                // Remove active from current step
                document.getElementById(`step${currentSection}`).classList.remove('active');
                
                // Hide current section
                document.getElementById(`section${currentSection}`).classList.remove('active');
                
                // Move to previous section
                currentSection--;
                
                // Show previous section
                document.getElementById(`section${currentSection}`).classList.add('active');
                
                // Update previous step
                document.getElementById(`step${currentSection}`).classList.remove('completed');
                document.getElementById(`step${currentSection}`).classList.add('active');
                
                updateProgressBar();
                
                // Scroll to top
                document.querySelector('.form-content').scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            }
        }
        
        function updateProgressBar() {
            const progressPercentage = ((currentSection - 1) / (totalSections - 1)) * 100;
            document.getElementById('progressLine').style.width = `${progressPercentage}%`;
        }
        
        function updateSummary() {
            const summaryContent = document.getElementById('summaryContent');
            let summary = '<strong>Basic Information:</strong><br>';
            summary += `Name: ${formData.name || 'Not provided'}<br>`;
            summary += `Email: ${formData.email || 'Not provided'}<br>`;
            summary += `Location: ${formData.location || 'Not provided'}<br><br>`;
            
            summary += '<strong>Experience Summary:</strong><br>';
            if (formData.q1) summary += `React/Next.js: ${formData.q1.substring(0, 100)}...<br>`;
            if (formData.q2) summary += `AI Tools: ${formData.q2.substring(0, 100)}...<br>`;
            if (formData.q4) summary += `Availability: ${formData.q4}<br>`;
            
            summaryContent.innerHTML = summary;
        }
        
        async function submitApplication() {
            if (!validateCurrentSection()) {
                return;
            }
            
            saveFormData();
            
            // Show loading state
            document.getElementById('submitText').style.display = 'none';
            document.getElementById('submitLoading').style.display = 'inline-block';
            document.querySelector('.btn-success').disabled = true;
            
            // Get URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const referralSource = urlParams.get('ref') || 'direct';
            
            // Prepare submission data
            const submissionData = {
                // Basic Information
                name: formData.name,
                email: formData.email,
                phone: formData.phone,
                location: formData.location,
                linkedin: formData.linkedin,
                github: formData.github,
                
                // Technical Questions
                reactExperience: formData.q1,
                aiToolsExperience: formData.q2,
                portfolio: formData.q3,
                
                // Availability
                startDate: formData.q4,
                workHours: formData.q5,
                remoteExperience: formData.q6,
                
                // Culture & Motivation
                whyAllign: formData.q7,
                startupExperience: formData.q8,
                technicalChallenge: formData.q9,
                
                // Final Details
                salaryExpectations: formData.q10,
                questionsForUs: formData.q11,
                additionalInfo: formData.q12,
                
                // Metadata
                submittedAt: new Date().toISOString(),
                referralSource: referralSource,
                userAgent: navigator.userAgent,
                consent: document.getElementById('consent').checked
            };
            
            try {
                const response = await fetch('https://n8n.aigrowthadvisors.cc/webhook/allign-developer-application', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(submissionData)
                });
                
                if (response.ok) {
                    // Hide current section
                    document.getElementById(`section${currentSection}`).classList.remove('active');
                    
                    // Show success section
                    document.getElementById('successSection').classList.add('active');
                    document.getElementById('confirmEmail').textContent = formData.email;
                    
                    // Update progress to completed
                    document.getElementById(`step${currentSection}`).classList.remove('active');
                    document.getElementById(`step${currentSection}`).classList.add('completed');
                    document.getElementById('progressLine').style.width = '100%';
                    
                    // Scroll to top
                    document.querySelector('.form-content').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start' 
                    });
                    
                } else {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
            } catch (error) {
                console.error('Submission error:', error);
                showError('There was an error submitting your application. Please try again or contact us directly.');
                
                // Reset button state
                document.getElementById('submitText').style.display = 'inline';
                document.getElementById('submitLoading').style.display = 'none';
                document.querySelector('.btn-success').disabled = false;
            }
        }
        
        // Utility functions
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }
        
        // Test functionality
        let testControlsVisible = false;
        
        // Listen for Ctrl+Shift+T to show/hide test controls
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.shiftKey && e.key === 'T') {
                e.preventDefault();
                toggleTestControls();
            }
        });
        
        function toggleTestControls() {
            const controls = document.getElementById('testControls');
            testControlsVisible = !testControlsVisible;
            
            if (testControlsVisible) {
                controls.classList.add('visible');
            } else {
                controls.classList.remove('visible');
            }
        }
        
        function fillTestData() {
            const testData = {
                // Section 1: Basic Information
                name: "Alex Johnson",
                email: "alex.johnson.dev@gmail.com",
                phone: "+45 23 45 67 89",
                location: "Copenhagen, Denmark",
                linkedin: "https://linkedin.com/in/alexjohnsondev",
                github: "https://github.com/alexjohnsondev",
                
                // Section 2: Technical Experience
                q1: "I built a comprehensive project management dashboard using Next.js 13 with the new app router. The application handles real-time updates for 500+ concurrent users using WebSocket connections and Server-Sent Events. I implemented optimistic updates with React Query for better UX, used Zustand for state management, and optimized rendering performance using React.memo and useMemo hooks. The dashboard includes drag-and-drop task management, real-time notifications, and advanced filtering with debounced search.",
                
                q2: "I use GitHub Copilot daily for boilerplate code generation and Claude/ChatGPT for architectural decisions and complex problem-solving. Recently, I used AI tools to refactor a 8000-line legacy React class component codebase to functional components with hooks, reducing bundle size by 30%. I also leverage Cursor IDE for context-aware code generation and use AI for writing comprehensive unit tests and documentation.",
                
                q3: "1. https://github.com/alexjohnsondev/react-dashboard - Production-ready dashboard with 1.2k+ stars, 200+ forks\n2. https://taskflow.app - SaaS platform serving 5000+ users with 99.9% uptime\n3. https://dev.to/alexjohnson/optimizing-react-performance - Technical article with 15k+ views on React optimization\n4. https://github.com/alexjohnsondev/ai-code-reviewer - Open-source AI tool for code review automation",
                
                // Section 3: Availability & Commitment
                q4: "2-weeks",
                
                q5: "I'm based in Copenhagen (CET/UTC+1) and typically work 9 AM to 6 PM local time. This provides excellent overlap with European team members and allows for real-time collaboration during core business hours. I'm flexible with meeting times and comfortable with both synchronous and asynchronous communication patterns. I have experience working with distributed teams across multiple time zones.",
                
                q6: "I've been working remotely for 4+ years, including 2 years with a 6-person startup where I was the lead frontend developer. I'm highly proficient with remote collaboration tools (Slack, Discord, Zoom, Linear, GitHub) and have a dedicated home office setup with reliable internet and professional lighting for video calls. I excel at async communication and always document important decisions and technical discussions.",
                
                // Section 4: Culture & Motivation  
                q7: "Construction is one of the last major industries to embrace digital transformation, creating enormous opportunities for impact. Having worked with field service apps before, I understand the unique challenges of building software that works reliably in harsh outdoor conditions with spotty connectivity. I'm excited about solving real problems for workers who often get overlooked by tech innovation. The combination of AI/ML potential and practical field application really appeals to me.",
                
                q8: "At my previous startup, I was employee #4 and took on everything from frontend architecture to DevOps and customer support. I thrived in the fast-paced environment where we shipped features weekly based on direct user feedback. I'm comfortable with ambiguity, rapid iteration, and wearing multiple hats. I actually prefer the startup environment because you can see the direct impact of your work on the product and users, rather than being just one cog in a large machine.",
                
                q9: "Our React app was experiencing severe memory leaks on mobile devices, with crashes after 10-15 minutes of usage. I used Chrome DevTools and React Profiler to identify that we had thousands of event listeners not being cleaned up and components re-rendering unnecessarily. I implemented proper cleanup in useEffect hooks, added React.memo to expensive components, and introduced virtualization for large lists. The result was a 75% reduction in memory usage and elimination of mobile crashes.",
                
                // Section 5: Final Details
                q10: "‚Ç¨55,000 - ‚Ç¨75,000 + equity (flexible based on equity percentage and growth potential)",
                
                q11: "What's the current tech stack and development workflow? How do you handle testing and deployment for field applications? What are the biggest technical challenges you're facing with offline functionality and data synchronization? How does the team approach user research and validation with construction workers?",
                
                q12: "I have a strong background in PWA development and offline-first architectures, which seems directly relevant for field applications. I also have experience in IoT data processing from my previous role, which could be valuable for integrating with construction equipment and sensors. I'm passionate about creating intuitive UIs that work well even for users who aren't tech-savvy."
            };
            
            // Fill all form fields
            Object.keys(testData).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.value = testData[key];
                    // Trigger events to update character counters and save data
                    element.dispatchEvent(new Event('input', { bubbles: true }));
                    element.dispatchEvent(new Event('change', { bubbles: true }));
                }
            });
            
            // Check consent checkbox
            const consentCheckbox = document.getElementById('consent');
            if (consentCheckbox) {
                consentCheckbox.checked = true;
            }
            
            // Update character counters and save form data
            updateCharCounters();
            saveFormData();
            
            console.log('Test data filled successfully!');
        }
        
        function clearForm() {
            // Clear all form fields
            const inputs = document.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                if (input.type === 'checkbox') {
                    input.checked = false;
                } else {
                    input.value = '';
                }
                // Trigger events to update character counters
                input.dispatchEvent(new Event('input', { bubbles: true }));
                input.dispatchEvent(new Event('change', { bubbles: true }));
            });
            
            // Update character counters and save form data
            updateCharCounters();
            saveFormData();
            
            console.log('Form cleared successfully!');
        }
    </script>
</body>
</html>